global:
  scrape_interval: 5s

scrape_configs:
  # 1) cAdvisor â€” monitor all Docker containers
  - job_name: "cadvisor"
    static_configs:
      - targets: ["cadvisor:8080"]

  # 2) HAProxy exporter (for L7 HAProxy nodes)
  - job_name: "haproxy_exporter"
    static_configs:
      - targets: ["haproxy-exporter:9101"]

  # 3) Backend Node.js /metrics
  - job_name: "backend_api"
    metrics_path: /metrics
    static_configs:
      - targets: ["be1:5000", "be2:5000"]
